{% include "templates/frontend/includes/header.html" %}
{% include "templates/frontend/includes/nav.html" %}
{% load static %}




<main id="main">

  <!-- ======= Breadcrumbs ======= -->
  <section id="breadcrumbs" class="breadcrumbs">
    <div class="container pb-20 pt-20">

      <div class="d-flex justify-content-between align-items-center">
        <h2>Books Search</h2>
        <ol>
          <li><a href="/">Home</a></li>
          <li>Books Search</li>
        </ol>
      </div>

    </div>
  </section><!-- End Breadcrumbs -->

  <!-- ======= Team Section ======= -->
  <section id="team" class="team ">
    <div class="container pb-120">

      <div class="row">
        <div class="pt-20 pb-20 d-flex justify-content-center"><h4>Search Results for  " <i>{{ query }}</i> "</h4></div>

        {% for book in books %}
        <div class="col-lg-6 mt-4 mt-lg-0">
          <div class="member d-flex align-items-start">
            <div class="book-img"><img src="/media/{{ book.book_picture }}" class="img-fluid" alt=""></div>
            <div class="member-info">
              <h4>{{ book.book_author }}</h4>
              <span>{{ book.book_category }}</span>
              <p>{{ book.book_title }}</p>
              <div class="social">
                <a title="Read Book" target="_blank" href="#" onclick="window.open('/media/{{ book.book_files }}', '_blank', 'fullscreen=yes'); return false;"><i class="fa fa-eye" aria-hidden="true"></i></a>
                <a title="Download Book" href="/media/books/book.pdf" download="download"><i class="fa fa-download"></i></a>
              </div>
            </div>
          </div>
        </div>
        {% empty %}

        <div style="font-weight: 600; font-size: larger;">No Book Matches the Search " <i>{{ query }}</i> " ... <a href="/books">Search Again</a></div>

        {% endfor %}
        
     <hr>

      </div>
    <div id="blog" class="blog">
      <div class="blog-pagination">
        <ul class="justify-content-center">

          {% if books.has_previous %}
              <li class="page-item"><a href="?{% if query %}search={{query}}&{% endif %}page=1">&laquo; First</a></li>
              <li class="page-item"><a href="?{% if query %}search={{query}}&{% endif %}page={{ books.previous_page_number }}">Previous</a></li>
          {% endif %}
  

            <span class="ml-1 mr-2" style="padding-left: 20px; padding-right: 20px; padding-top: 8px; font-weight: 700;">
              Page {{ books.number }} of {{ books.paginator.num_pages }}
          </span>

  
          {% if books.has_next %}
              <li class="page-item"><a href="?{% if query %}search={{query}}&{% endif %}page={{ books.next_page_number }}">Next</a></li>
              <li class="page-item"><a href="{% if query %}search={{query}}&{% endif %}page={{ books.paginator.num_pages }}">Last Page &raquo;</a></li>
          {% endif %}
        
        </ul>
      </div>
    </div>

    </div>
  </section><!-- End Team Section -->

</main><!-- End #main -->



{% include "templates/frontend/includes/footer.html" %}